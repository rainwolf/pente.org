<project name="tree" default="buildTree" basedir=".">

  <target name="buildTree">

    <mkdir dir="${build}/tree" />
    
    <property name="classpath" value="../lib/servlet.jar;
                                      ../lib/log4j-1.2.8.jar;
                                      ../lib/jdbc2_0-stdext.jar;
                                      ../lib/activation.jar;
                                      ../lib/mail.jar;
                                      ../lib/jaxp.jar;
                                      ../lib/junit-3.7.jar;
                                      ../lib/commons-collections.jar;
                                      ../lib/commons-dbcp-1.1.jar;
                                      ../lib/commons-pool-1.1.jar;
                                      ../lib/commons-fileupload-1.0.jar;
                                      ../lib/hibernate2.jar;
                                      ../lib/jivebase.jar;
                                      ../lib/jiveforums.jar;
                                      ../lib/jai_codec.jar;
                                      ../lib/jai_core.jar;
                                      ../lib/jcert.jar;" />

    <javac srcdir="../java"
           includes="org/pente/tree/AppletNodeViewer.java"
           destdir="${build}/tree"
           classpath="${classpath}"
           target="1.1" />

    <jar jarfile="${build}/tree.jar">
      <fileset dir="${build}/tree" />
    </jar>
  </target>

  <target name="schemaexport" depends="buildTree">
    <schemaexport
        delimiter=";"
        drop="false"
        quiet="false"
        text="true"
        output="../sql/treeSchema.sql"
        properties="${basedir}/hibernate.properties">
      <fileset dir="../java">
        <include name="**/*.hbm.xml" />
      </fileset>
    </schemaexport>
  </target>   

</project>