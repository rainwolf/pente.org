<Context path="" docBase="ROOT.war" debug="7"
         privileged="false" crossContext="false" reloadable="true">

    <Valve className="org.apache.catalina.valves.AccessLogValve"
           directory="/var/log/dsg" prefix="access." suffix=".log"
           pattern="combined"/>

    <Resource name="jdbc/dsg"
              auth="Container"
              type="javax.sql.DataSource"
              maxTotal="100" maxIdle="30" maxWait="10000"
              testWhileIdle="true" testOnBorrow="true"
              validationQueryTimeout="5" validationQuery="SELECT 1"
              removeAbandoned="true" removeAbandonedTimeout="30"
              username="${MYSQL_USER}" password="${MYSQL_PASSWORD}"
              driverClassName="com.mysql.jdbc.Driver"
              url="jdbc:mysql://main_db/${MYSQL_DATABASE}?useEncoding=true&amp;zeroDateTimeBehavior=convertToNull&amp;useServerPrepStmts=true"/>
    <Resource name="jdbc/dsg_ro"
              auth="Container"
              type="javax.sql.DataSource"
              maxTotal="100" maxIdle="30" maxWait="10000"
              testWhileIdle="true" testOnBorrow="true"
              validationQueryTimeout="5" validationQuery="SELECT 1"
              removeAbandoned="true" removeAbandonedTimeout="30"
              username="${MYSQL_RO_USER}" password="${MYSQL_RO_PASSWORD}"
              driverClassName="com.mysql.jdbc.Driver"
              url="jdbc:mysql://main_auto_ssh:${DSG_LOCAL_PORT}/${MYSQL_DATABASE}?useEncoding=true&amp;zeroDateTimeBehavior=convertToNull&amp;useServerPrepStmts=true"/>
</Context>
